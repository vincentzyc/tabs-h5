import{d as b,r as o,J as X,O as h,o as _,c as y,b as n,n as M,ah as v,t as I,aj as D,ak as F,ab as L,a as E}from"./index-fefd2a6f.js";const w=r=>(D("data-v-72a5edc2"),r=r(),F(),r),N={style:{width:"24px",height:"24px"}},O={key:0,viewBox:"0 0 1024 1024"},R=w(()=>n("path",{fill:"#76c61d",d:"M512 960C264 960 64 759 64 512S264 64 512 64s448 200 448 448S759 960 512 960zM512 128C300 128 128 300 128 512c0 211 172 383 383 383 211 0 383-172 383-383C895 300 723 128 512 128z"},null,-1)),$=w(()=>n("path",{fill:"#76c61d",d:"M726 393c-12-12-32-12-45 0l-233 235-103-106c-12-12-32-12-45-0-12 12-12 32-0 45l126 129c0 0 0 0 0 0 0 0 0 0 0 0 2 1 4 3 6 4 1 0 2 1 3 2 3 1 8 2 12 2 4 0 8-0 11-2 1-0 2-1 3-2 2-1 4-2 6-4 0-0 0-0 0-0 0-0 0-0 0-0l256-259C739 425 739 405 726 393z"},null,-1)),j=[R,$],H={key:1,viewBox:"0 0 1027 1024"},J=w(()=>n("path",{fill:"#8a8a8a",d:"M189 794c-10 0-20-3-28-11-15-15-15-40 0-56L408 479 160 231c-15-15-15-40 0-56 15-15 40-15 56 0l275 275c7 7 11 17 11 28 0 10-4 20-11 28L217 782C209 790 199 794 189 794zM557 794c-10 0-20-3-28-11-15-15-15-40 0-56l246-246L528 231c-15-15-15-40 0-56 15-15 40-15 56 0l275 275c15 15 15 40 0 56L585 782C578 790 567 794 557 794z"},null,-1)),U=[J],q=b({__name:"DragVerify",props:{isPassing:{type:Boolean,default:!1},width:{default:250},height:{default:40},text:{default:"请按住滑块拖动"},successText:{default:"验证通过"},background:{default:"#ddd"},progressBarBg:{default:"#76c61d"},completedBg:{default:"#76c61d"},circle:{type:Boolean,default:!1},radius:{default:"4px"},handlerBg:{default:"#fff"},textSize:{default:"14px"},textColor:{default:"#666"}},emits:["handlerMove","passfail","update:isPassing","passcallback"],setup(r,{expose:f,emit:d}){const e=r,g=o(),a=o(),s=o(),l=o();let u=o(!1),p=o(0),c=o(!1);X(()=>{const t=g.value;t&&(t.style.setProperty("--textColor",e.textColor),t.style.setProperty("--width",Math.floor(e.width/2)+"px"),t.style.setProperty("--pwidth",-Math.floor(e.width/2)+"px"))});const P=h(()=>({width:e.height+"px",height:e.height+"px",background:e.handlerBg})),S=h(()=>e.isPassing?e.successText:e.text),C=h(()=>({width:e.width+"px",height:e.height+"px",lineHeight:e.height+"px",background:e.background,borderRadius:e.circle?e.height/2+"px":e.radius})),z=h(()=>({background:e.progressBarBg,height:e.height+"px",borderRadius:e.circle?e.height/2+"px 0 0 "+e.height/2+"px":e.radius})),T=h(()=>({height:e.height+"px",width:e.width+"px",fontSize:e.textSize}));function k(t){t.preventDefault(),e.isPassing||(u.value=!0,p.value="pageX"in t?t.pageX:t.touches[0].pageX),d("handlerMove")}function m(t){if(u.value&&!e.isPassing){var i="pageX"in t?t.pageX:t.touches[0].pageX-p.value;i>0&&i<=e.width-e.height?(s.value&&(s.value.style.left=i+"px"),a.value&&(a.value.style.width=i+e.height/2+"px")):i>e.width-e.height&&(s.value&&(s.value.style.left=e.width-e.height+"px"),a.value&&(a.value.style.width=e.width-e.height/2+"px"),B())}}function x(t){if(u.value&&!e.isPassing){var i="pageX"in t?t.pageX:t.changedTouches[0].pageX-p.value;i<e.width-e.height?(c.value=!0,setTimeout(()=>{s.value&&(s.value.style.left="0"),a.value&&(a.value.style.width="0"),c.value=!1},500),d("passfail")):(s.value&&(s.value.style.left=e.width-e.height+"px"),a.value&&(a.value.style.width=e.width-e.height/2+"px"),B()),u.value=!1}}function B(){d("update:isPassing",!0),u.value=!1,a.value&&(a.value.style.background=e.completedBg),l.value&&(l.value.style.webkitTextFillColor="unset",l.value.style.animation="slidetounlock2 2s infinite",l.value.style.color="#fff"),d("passcallback")}function V(){u.value=!1,p.value=0,c.value=!1,s.value&&(s.value.style.left="0"),a.value&&(a.value.style.width="0"),l.value&&(l.value.style.webkitTextFillColor="transparent",l.value.style.animation="slidetounlock 3s infinite",l.value.style.color=e.background)}return f({reset:V}),(t,i)=>(_(),y("div",{ref_key:"dragVerify",ref:g,class:"drag_verify",style:v(C.value),onMousemove:m,onMouseup:x,onMouseleave:x,onTouchmove:m,onTouchend:x},[n("div",{class:M(["dv_progress_bar",{goFirst2:c.value}]),ref_key:"progressBar",ref:a,style:v(z.value)},null,6),n("div",{class:"dv_text",style:v(T.value),ref_key:"refMessage",ref:l},I(S.value),5),n("div",{class:M(["dv_handler dv_handler_bg",{goFirst:c.value}]),onMousedown:k,onTouchstart:k,ref_key:"handler",ref:s,style:v(P.value)},[n("div",N,[e.isPassing?(_(),y("svg",O,j)):(_(),y("svg",H,U))])],38)],36))}});const A=L(q,[["__scopeId","data-v-72a5edc2"]]),G={class:"wrapper flex flex-center",style:{"user-select":"none"}},Q=b({__name:"page3",setup(r){let f=o(!1);return(d,e)=>{const g=A;return _(),y("div",G,[E(g,{isPassing:f.value,"onUpdate:isPassing":e[0]||(e[0]=a=>f.value=a),handlerIcon:"el-icon-d-arrow-right",successIcon:"el-icon-circle-check"},null,8,["isPassing"])])}}});export{Q as default};
